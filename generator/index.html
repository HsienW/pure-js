<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Generator</title>
</head>
<body>
    <div id="tree">
        <h3>Login</h3>
        <form>
            <label for="account">Account:</label>
            <br>
            <input type="text" id="account" name="account" value="account-demo">
            <br>
            <label for="password">Password:</label>
            <br>
            <input type="password" id="password" name="password" value="password-demo">
            <br><br>
            <input type="submit" value="Submit">
        </form>
    </div>
    <div id="timer-render">
        <h3>Timer Render</h3>
        <ul id="timer-render-list"></ul>
    </div>
<script>
    // index
    function* GetIndexA() {
        let index = 0;

        while (true) {
            yield index++;
        }
    }

    const getA = GetIndexA();

    console.log(getA.next().value);
    console.log(getA.next().value);
    console.log(getA.next().value);

    // use for-of

    function* GetIndexB() {
        let index = 0;

        while (true) {
            yield index++;
            if (index > 3) {
                break;
            }
        }
    }

    for (let i of GetIndexB()) {
        console.log(i);
    }

    // Generator in Generator

    function* CreateNameA() {
        yield 'Andy';
        yield* CreateNameB();
        yield 'Jack';
    }

    function* CreateNameB() {
        yield 'Kelly';
        yield 'Julie';
    }

    for (let i of CreateNameA()) {
        console.log(i);
    }

    // create id

    function* CreateId() {
        let id = 0;

        while (true) {
            yield id++;
        }
    }

    const idGenerator = CreateId();
    const userData = [
        {name: 'Andy'},
        {name: 'Jack'},
        {name: 'Julie'},
        {name: 'Kelly'},
    ];

    const newUserData = userData.map(item => {
        item.id = idGenerator.next().value;
        return item;
    });

    console.log(newUserData);

    // get html tag name

    function* GetDomHandle(element) {
        yield element;
        element = element.firstElementChild;

        while (element) {
            yield* GetDomHandle(element);
            element = element.nextElementSibling;
        }
    }

    const domTree = document.getElementById('tree');

    for (let element of GetDomHandle(domTree)) {
        console.log(element.nodeName);
    }

    // simulation render multiple items

    // const colorData = [
    //     {color: 'Red'},
    //     {color: 'Blue'},
    //     {color: 'Yellow'},
    //     {color: 'Gray'},
    //     {color: 'Green'},
    //     {color: 'Purple'},
    //     {color: 'Black'},
    //     {color: 'White'},
    // ];
    //
    // function createTimerRenderList(listData, targetDomId, addDomType) {
    //     function* RenderDom(listData, targetDomId, addDomType) {
    //         yield* domItemRender(targetDomId, addDomType);
    //     }
    //     const renderDom = RenderDom();
    // }
    //
    // function domItemRender(targetDomId, addDomType) {
    //     const parentDom = document.getElementById(targetDomId);
    //     const childDom = document.createElement(addDomType);
    //     childDom.innerHTML = '123';
    //     parentDom.appendChild(childDom);
    // }
    //
    // console.log(createTimerRenderList(colorData, 'timer-render-list', 'li'));

</script>
</body>
</html>
