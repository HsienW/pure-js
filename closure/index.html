<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Closure</title>
</head>
<body>
<div id="show-count1"></div>
<button onclick="count1.add()">count1 add</button>
<button onclick="count1.less()">count1 less</button>
<br/>
<div id="show-count2"></div>
<button onclick="count2.add()">count2 add</button>
<button onclick="count2.less()">count2 less</button>
<script>
    function CreateCount(target, value) {
        this.value = value;
        this.init = () => {
            document.getElementById(target).innerHTML = this.value;
        };
        this.add = () => {
            this.value++;
            document.getElementById(target).innerHTML = this.value;
        };
        this.less = () => {
            this.value--;
            document.getElementById(target).innerHTML = this.value;
        };
    }

    const count1 = new CreateCount('show-count1', 10);
    const count2 = new CreateCount('show-count2', 50);

    count1.init();
    count2.init();


    function parent() {
        let count = 0;

        function add() {
            console.log(++count);
        }

        function less() {
            console.log(--count);
        }

        return {
            addCount: add,
            lessCount: less
        };
    }

    const test = parent();

    test.addCount();
    test.addCount();
    test.lessCount();


    // function a(){　　//建立函數a
    //     let i=0;　　　　//定義變量i
    //     function b(){　　　　//在函數a內套入函數b
    //         console.log(++i);　　　　//提示框，輸出i的值
    //     }
    //     return b;　　　　　　//返回函數b的值
    // }
    //
    // const c = a();　　　　//將函數a賦給變量c
    // c();
    // c();
    // c();

    function aa() {
        let hello = 'hello';

        function sayHello() {
            return hello;
        }

        return sayHello;
    }

    const tttt = aa();

    // console.log(tttt());

    // window.onresize = function(){
    //     console.log('onresize') //只想触发一次
    // }

    window.onresize = function () {
        debounce(fn, 1000)
    }

    const fn = function () {
        console.log('fn')
    }

    let time = '';

    function debounce(fn, timeLong) {
        if (time) {
            clearTimeout(time)
            time = '';
        }

        time = setTimeout(function () {
            fn();
        }, timeLong)
    }

</script>
</body>
</html>
